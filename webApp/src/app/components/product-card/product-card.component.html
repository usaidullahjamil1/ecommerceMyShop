<div
  class="w-full bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer p-4 flex flex-col text-left h-[450px]"
>
  <img
    [src]="product.images[0]"
    alt="{{ product.name }}"
    class="w-full h-48 object-contain rounded-lg mb-3 bg-gray-100"
    [routerLink]="'/product/' + product._id"
  />
  <div [routerLink]="'/product/' + product._id">
    <h4 class="boldText text-gray-800 mb-1">
      {{ product.name }}
    </h4>

    <p class="text-gray-500 text-sm mb-3">
      {{ product.shortDescription }}
    </p>
  </div>
  <div class="mt-auto w-full">
    <div class="flex items-baseline gap-2">
      <!-- Original Price (strikethrough) -->
      <span class="text-gray-400 line-through text-sm">
        Rs. {{ product.price }}
      </span>

      <!-- Discount -->
      <span class="text-red-500"> {{ product.discount }}% off </span>
    </div>

    <!-- Final Price -->
    <h6 class="indigoColor boldText mt-1">Rs. {{ sellingPrice }}</h6>

    <!-- Add to Cart Button -->
    <!-- <button
      class="mt-3 bg-blue-600 text-white text-sm font-medium px-4 py-2 rounded-lg hover:bg-blue-700 transition w-full"
    >
      Add to Cart
    </button> -->
    <button matFab color="primary" (click)="addToWishlist(product)">
      @if (isInWishlist(product)) {
        <mat-icon class="text-red-600">favorite</mat-icon>
      } @else {
        <mat-icon class="text-red-600">favorite_border</mat-icon>
      }
    </button>
    <button matFab color="primary" (click)="addToCart(product)">
      @if (isProductInCart(product._id!)) {
        <mat-icon>remove_shopping_cart</mat-icon>
      } @else {
        <mat-icon>add_shopping_cart</mat-icon>
      }
    </button>
  </div>
</div>
